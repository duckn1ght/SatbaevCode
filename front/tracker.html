<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Face Detection with TensorFlow.js</title>
        <link rel="stylesheet" href="./styles/tracker.css" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <main>
            <div class="title">
                <svg
                    width="144"
                    height="174"
                    viewBox="0 0 144 174"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M7.9209 32.8296C6.21842 32.8296 4.83923 31.4504 4.83923 29.748L4.83926 16.8614C4.83928 9.28828 10.9828 3.14488 18.5561 3.14488L28.8207 3.14488C30.7122 3.14488 32.2445 4.67718 32.2445 6.56866C32.2445 8.46292 30.7078 9.99957 28.8135 9.99957L21.9169 9.99957C16.2149 9.99957 11.5894 14.625 11.5893 20.3269L11.5893 29.1613C11.5892 31.1866 9.94625 32.8296 7.9209 32.8296Z"
                        fill="#023785"
                    />
                    <path
                        d="M107.033 6.23627C107.015 4.62661 108.306 3.3073 109.915 3.29048L124.754 3.13541C131.909 3.06064 137.771 8.79659 137.853 15.9512L137.96 25.3775C137.982 27.3367 136.411 28.9425 134.452 28.963C132.495 28.9834 130.892 27.4147 130.869 25.458L130.799 19.2299C130.737 13.8326 126.315 9.50558 120.918 9.56195L110.543 9.67032C108.626 9.69034 107.055 8.15337 107.033 6.23627Z"
                        fill="#023785"
                    />
                    <path
                        d="M135.402 88.9486C137.104 88.9486 138.484 90.3278 138.484 92.0303L138.484 104.917C138.484 112.49 132.34 118.633 124.767 118.633L114.502 118.633C112.611 118.633 111.078 117.101 111.078 115.21C111.078 113.315 112.615 111.779 114.509 111.779L121.406 111.779C127.108 111.779 131.734 107.153 131.734 101.451L131.734 92.6169C131.734 90.5916 133.377 88.9486 135.402 88.9486Z"
                        fill="#023785"
                    />
                    <path
                        d="M38.9669 114.764C38.9852 116.373 37.6943 117.693 36.0847 117.71L21.2458 117.865C14.0911 117.939 8.22865 112.203 8.14738 105.049L8.04031 95.6225C8.01805 93.6633 9.5892 92.0575 11.5484 92.037C13.5051 92.0166 15.1084 93.5853 15.1306 95.542L15.2014 101.77C15.2627 107.167 19.6852 111.494 25.0825 111.438L35.4571 111.33C37.3743 111.31 38.9451 112.847 38.9669 114.764Z"
                        fill="#023785"
                    />
                    <circle cx="72" cy="130" r="3" fill="#0363BA" />
                    <circle cx="72" cy="63" r="3" fill="#0363BA" />
                    <circle cx="119" cy="23" r="3" fill="#0363BA" />
                    <ellipse cx="25" cy="21.5" rx="3" ry="2.5" fill="#0363BA" />
                    <ellipse
                        cx="119"
                        cy="101.5"
                        rx="3"
                        ry="2.5"
                        fill="#0363BA"
                    />
                    <circle cx="25" cy="99" r="3" fill="#0363BA" />
                    <circle cx="72" cy="3" r="3" fill="#0363BA" />
                    <circle cx="141" cy="63" r="3" fill="#0363BA" />
                    <circle cx="3" cy="63" r="3" fill="#0363BA" />
                    <path
                        d="M87.5 62C87.5 70.4963 80.4016 77.5 71.5 77.5C62.5984 77.5 55.5 70.4963 55.5 62C55.5 53.5037 62.5984 46.5 71.5 46.5C80.4016 46.5 87.5 53.5037 87.5 62Z"
                        stroke="#023785"
                        stroke-width="5"
                    />
                    <path
                        d="M102.5 62C102.5 77.5278 88.6193 90.5 71 90.5C53.3807 90.5 39.5 77.5278 39.5 62C39.5 46.4722 53.3807 33.5 71 33.5C88.6193 33.5 102.5 46.4722 102.5 62Z"
                        stroke="#023785"
                        stroke-width="5"
                    />
                    <path
                        d="M128.975 62.7638C128.626 65.5202 127.03 69.4033 124.068 73.8429C121.028 78.4002 116.714 83.2943 111.394 87.7916C100.728 96.807 86.3003 104 70.3575 104C54.6578 104 40.2842 94.765 29.6256 84.5074C24.3383 79.4191 20.0806 74.1874 17.1616 69.9621C15.7004 67.8469 14.5997 66.0201 13.8787 64.6203C13.5168 63.9178 13.2718 63.364 13.1246 62.9622C13.0538 62.7688 13.0198 62.6485 13.0045 62.5898C13.0366 62.1709 13.2479 61.242 13.8969 59.7513C14.5699 58.2055 15.6009 56.3079 16.9884 54.178C19.7612 49.9216 23.8542 44.8957 29.0519 40.0931C39.4802 30.4574 54.037 22 71.0004 22C86.137 22 100.248 29.0295 110.894 37.9168C116.2 42.3461 120.569 47.1759 123.707 51.692C126.762 56.0891 128.497 59.9688 128.975 62.7638Z"
                        stroke="#023785"
                        stroke-width="6"
                    />
                    <path
                        d="M2.769 161V142.091H15.6767V145.803H7.33931V149.68H14.8549V153.401H7.33931V161H2.769ZM21.7473 161.24C20.8425 161.24 20.0392 161.089 19.3375 160.788C18.642 160.48 18.0911 160.018 17.6848 159.403C17.2847 158.781 17.0847 158.002 17.0847 157.067C17.0847 156.279 17.2232 155.614 17.5002 155.072C17.7772 154.531 18.1588 154.091 18.6451 153.752C19.1313 153.414 19.6915 153.158 20.3255 152.986C20.9595 152.807 21.6365 152.687 22.3567 152.626C23.1631 152.552 23.8124 152.475 24.3049 152.395C24.7973 152.309 25.1543 152.189 25.3759 152.035C25.6036 151.875 25.7175 151.65 25.7175 151.361V151.315C25.7175 150.841 25.5544 150.474 25.2282 150.216C24.9019 149.957 24.4618 149.828 23.9078 149.828C23.3108 149.828 22.8307 149.957 22.4675 150.216C22.1043 150.474 21.8735 150.831 21.775 151.287L17.611 151.139C17.7341 150.277 18.0511 149.508 18.562 148.831C19.079 148.148 19.7869 147.612 20.6855 147.224C21.5904 146.83 22.6768 146.634 23.9448 146.634C24.8496 146.634 25.6837 146.741 26.4469 146.957C27.2102 147.166 27.8749 147.474 28.4412 147.88C29.0075 148.28 29.4445 148.772 29.7523 149.357C30.0662 149.942 30.2232 150.61 30.2232 151.361V161H25.976V159.024H25.8652C25.6129 159.504 25.2897 159.911 24.8958 160.243C24.508 160.575 24.0494 160.825 23.5201 160.991C22.9969 161.157 22.406 161.24 21.7473 161.24ZM23.1415 158.286C23.6278 158.286 24.0648 158.187 24.4526 157.99C24.8465 157.793 25.1605 157.522 25.3944 157.178C25.6283 156.827 25.7452 156.42 25.7452 155.959V154.611C25.6159 154.679 25.459 154.74 25.2743 154.795C25.0958 154.851 24.8989 154.903 24.6834 154.952C24.468 155.002 24.2464 155.045 24.0186 155.082C23.7909 155.119 23.5724 155.152 23.3631 155.183C22.9384 155.251 22.5752 155.356 22.2736 155.497C21.9782 155.639 21.7504 155.823 21.5904 156.051C21.4365 156.273 21.3596 156.537 21.3596 156.845C21.3596 157.313 21.5257 157.67 21.8581 157.916C22.1967 158.162 22.6245 158.286 23.1415 158.286ZM39.6039 161.268C38.1081 161.268 36.8248 160.96 35.7537 160.344C34.6889 159.729 33.8702 158.873 33.2978 157.778C32.7253 156.676 32.4391 155.402 32.4391 153.955C32.4391 152.503 32.7253 151.228 33.2978 150.133C33.8764 149.031 34.6981 148.172 35.763 147.557C36.834 146.941 38.1112 146.634 39.5946 146.634C40.9057 146.634 42.0475 146.871 43.0201 147.344C43.9988 147.818 44.762 148.489 45.3098 149.357C45.8638 150.219 46.1562 151.232 46.187 152.395H41.9675C41.8813 151.669 41.6351 151.099 41.2289 150.687C40.8288 150.274 40.3056 150.068 39.6593 150.068C39.1361 150.068 38.6775 150.216 38.2836 150.511C37.8896 150.801 37.5819 151.232 37.3603 151.804C37.1448 152.37 37.0371 153.072 37.0371 153.909C37.0371 154.746 37.1448 155.454 37.3603 156.033C37.5819 156.605 37.8896 157.039 38.2836 157.335C38.6775 157.624 39.1361 157.768 39.6593 157.768C40.0778 157.768 40.4471 157.679 40.7672 157.501C41.0935 157.322 41.3612 157.061 41.5705 156.716C41.7798 156.365 41.9121 155.94 41.9675 155.442H46.187C46.1439 156.611 45.8515 157.633 45.3098 158.507C44.7743 159.381 44.0203 160.061 43.0478 160.548C42.0814 161.028 40.9334 161.268 39.6039 161.268ZM55.1268 161.268C53.6433 161.268 52.363 160.975 51.2859 160.391C50.2148 159.8 49.39 158.96 48.8114 157.87C48.239 156.774 47.9528 155.473 47.9528 153.964C47.9528 152.5 48.2421 151.219 48.8207 150.124C49.3993 149.022 50.2148 148.166 51.2674 147.557C52.32 146.941 53.5603 146.634 54.9883 146.634C55.9978 146.634 56.921 146.79 57.7582 147.104C58.5953 147.418 59.3185 147.883 59.9279 148.499C60.5373 149.114 61.0112 149.874 61.3498 150.779C61.6883 151.678 61.8576 152.709 61.8576 153.872V154.999H49.5316V152.376H57.6566C57.6505 151.896 57.5366 151.469 57.315 151.093C57.0934 150.718 56.7887 150.425 56.4009 150.216C56.0193 150 55.5792 149.893 55.0806 149.893C54.5759 149.893 54.1235 150.007 53.7234 150.234C53.3233 150.456 53.0063 150.761 52.7724 151.148C52.5385 151.53 52.4154 151.964 52.4031 152.45V155.119C52.4031 155.697 52.5169 156.205 52.7447 156.642C52.9724 157.073 53.2956 157.408 53.7141 157.648C54.1327 157.888 54.6313 158.009 55.2099 158.009C55.61 158.009 55.9731 157.953 56.2994 157.842C56.6256 157.732 56.9057 157.568 57.1396 157.353C57.3735 157.138 57.5489 156.873 57.6658 156.559L61.8114 156.679C61.6391 157.608 61.2605 158.418 60.6758 159.107C60.0972 159.79 59.337 160.323 58.3952 160.705C57.4535 161.08 56.364 161.268 55.1268 161.268ZM74.3844 147.76C74.3229 147.083 74.0489 146.557 73.5627 146.181C73.0826 145.799 72.3962 145.609 71.5037 145.609C70.9128 145.609 70.4204 145.686 70.0265 145.839C69.6325 145.993 69.3371 146.206 69.1401 146.477C68.9431 146.741 68.8416 147.046 68.8354 147.391C68.8231 147.674 68.8785 147.923 69.0016 148.138C69.1309 148.354 69.3155 148.545 69.5556 148.711C69.8018 148.871 70.0972 149.013 70.4419 149.136C70.7866 149.259 71.1744 149.366 71.6053 149.459L73.2303 149.828C74.1659 150.031 74.9907 150.302 75.7047 150.641C76.4249 150.979 77.0281 151.382 77.5144 151.85C78.0068 152.318 78.3792 152.857 78.6316 153.466C78.8839 154.075 79.0132 154.759 79.0194 155.516C79.0132 156.71 78.7116 157.735 78.1145 158.59C77.5175 159.446 76.6588 160.101 75.5385 160.557C74.4244 161.012 73.0795 161.24 71.5037 161.24C69.9218 161.24 68.543 161.003 67.3674 160.529C66.1917 160.055 65.2776 159.335 64.6252 158.369C63.9727 157.402 63.6373 156.18 63.6188 154.703H67.9952C68.0321 155.312 68.1953 155.82 68.4846 156.227C68.7739 156.633 69.1709 156.941 69.6756 157.15C70.1865 157.359 70.7774 157.464 71.4483 157.464C72.0639 157.464 72.5871 157.381 73.0179 157.214C73.455 157.048 73.7904 156.817 74.0243 156.522C74.2582 156.227 74.3783 155.888 74.3844 155.506C74.3783 155.149 74.2675 154.845 74.052 154.592C73.8366 154.334 73.5042 154.112 73.0549 153.928C72.6117 153.737 72.0454 153.561 71.356 153.401L69.3801 152.94C67.7428 152.564 66.4533 151.958 65.5115 151.121C64.5698 150.277 64.102 149.139 64.1081 147.705C64.102 146.535 64.4159 145.51 65.0499 144.63C65.6839 143.75 66.561 143.063 67.6813 142.571C68.8016 142.079 70.0788 141.832 71.513 141.832C72.9779 141.832 74.249 142.082 75.3262 142.58C76.4095 143.073 77.2497 143.765 77.8468 144.658C78.4438 145.55 78.7485 146.584 78.7608 147.76H74.3844ZM87.9569 161.268C86.4734 161.268 85.1931 160.975 84.1159 160.391C83.0449 159.8 82.2201 158.96 81.6415 157.87C81.0691 156.774 80.7828 155.473 80.7828 153.964C80.7828 152.5 81.0721 151.219 81.6507 150.124C82.2293 149.022 83.0449 148.166 84.0975 147.557C85.15 146.941 86.3903 146.634 87.8184 146.634C88.8278 146.634 89.7511 146.79 90.5882 147.104C91.4254 147.418 92.1486 147.883 92.758 148.499C93.3674 149.114 93.8413 149.874 94.1799 150.779C94.5184 151.678 94.6877 152.709 94.6877 153.872V154.999H82.3617V152.376H90.4867C90.4805 151.896 90.3667 151.469 90.1451 151.093C89.9235 150.718 89.6188 150.425 89.231 150.216C88.8494 150 88.4093 149.893 87.9107 149.893C87.406 149.893 86.9535 150.007 86.5534 150.234C86.1533 150.456 85.8364 150.761 85.6025 151.148C85.3685 151.53 85.2454 151.964 85.2331 152.45V155.119C85.2331 155.697 85.347 156.205 85.5748 156.642C85.8025 157.073 86.1257 157.408 86.5442 157.648C86.9628 157.888 87.4614 158.009 88.04 158.009C88.44 158.009 88.8032 157.953 89.1294 157.842C89.4557 157.732 89.7357 157.568 89.9696 157.353C90.2035 157.138 90.379 156.873 90.4959 156.559L94.6415 156.679C94.4692 157.608 94.0906 158.418 93.5059 159.107C92.9273 159.79 92.1671 160.323 91.2253 160.705C90.2836 161.08 89.1941 161.268 87.9569 161.268ZM101.509 152.912V161H96.9936V146.818H101.287V149.422H101.444C101.758 148.554 102.293 147.874 103.05 147.381C103.808 146.883 104.709 146.634 105.756 146.634C106.753 146.634 107.618 146.858 108.35 147.308C109.089 147.751 109.661 148.372 110.067 149.173C110.48 149.967 110.683 150.896 110.677 151.961V161H106.162V152.847C106.168 152.059 105.968 151.444 105.562 151.001C105.162 150.558 104.605 150.336 103.891 150.336C103.417 150.336 102.998 150.441 102.635 150.65C102.278 150.853 102.001 151.145 101.804 151.527C101.613 151.909 101.515 152.37 101.509 152.912ZM125.854 151.148L121.708 151.259C121.665 150.964 121.548 150.702 121.357 150.474C121.166 150.241 120.917 150.059 120.609 149.93C120.308 149.794 119.957 149.727 119.557 149.727C119.033 149.727 118.587 149.831 118.218 150.04C117.855 150.25 117.676 150.533 117.682 150.89C117.676 151.167 117.787 151.407 118.015 151.61C118.249 151.813 118.664 151.976 119.261 152.099L121.994 152.616C123.41 152.887 124.462 153.337 125.152 153.964C125.847 154.592 126.198 155.423 126.204 156.457C126.198 157.43 125.909 158.276 125.336 158.996C124.77 159.717 123.995 160.277 123.01 160.677C122.025 161.071 120.898 161.268 119.631 161.268C117.605 161.268 116.008 160.852 114.839 160.021C113.675 159.184 113.01 158.064 112.844 156.661L117.304 156.55C117.402 157.067 117.658 157.461 118.07 157.732C118.483 158.002 119.009 158.138 119.649 158.138C120.228 158.138 120.698 158.03 121.062 157.815C121.425 157.599 121.609 157.313 121.616 156.956C121.609 156.636 121.468 156.38 121.191 156.19C120.914 155.993 120.48 155.839 119.889 155.728L117.415 155.257C115.993 154.999 114.934 154.522 114.238 153.826C113.543 153.124 113.198 152.232 113.204 151.148C113.198 150.201 113.451 149.391 113.961 148.72C114.472 148.043 115.199 147.526 116.14 147.169C117.082 146.812 118.193 146.634 119.474 146.634C121.394 146.634 122.908 147.037 124.016 147.843C125.124 148.643 125.737 149.745 125.854 151.148ZM135.056 161.268C133.573 161.268 132.293 160.975 131.216 160.391C130.145 159.8 129.32 158.96 128.741 157.87C128.169 156.774 127.882 155.473 127.882 153.964C127.882 152.5 128.172 151.219 128.75 150.124C129.329 149.022 130.145 148.166 131.197 147.557C132.25 146.941 133.49 146.634 134.918 146.634C135.927 146.634 136.851 146.79 137.688 147.104C138.525 147.418 139.248 147.883 139.858 148.499C140.467 149.114 140.941 149.874 141.279 150.779C141.618 151.678 141.787 152.709 141.787 153.872V154.999H129.461V152.376H137.586C137.58 151.896 137.466 151.469 137.245 151.093C137.023 150.718 136.718 150.425 136.331 150.216C135.949 150 135.509 149.893 135.01 149.893C134.506 149.893 134.053 150.007 133.653 150.234C133.253 150.456 132.936 150.761 132.702 151.148C132.468 151.53 132.345 151.964 132.333 152.45V155.119C132.333 155.697 132.447 156.205 132.674 156.642C132.902 157.073 133.225 157.408 133.644 157.648C134.062 157.888 134.561 158.009 135.14 158.009C135.54 158.009 135.903 157.953 136.229 157.842C136.555 157.732 136.835 157.568 137.069 157.353C137.303 157.138 137.479 156.873 137.596 156.559L141.741 156.679C141.569 157.608 141.19 158.418 140.605 159.107C140.027 159.79 139.267 160.323 138.325 160.705C137.383 161.08 136.294 161.268 135.056 161.268Z"
                        fill="#023785"
                    />
                </svg>

                <h1>Идет сканирование</h1>
            </div>

            <div class="video-container">
                <p id="warning">Обнаружено больше одного лица!</p>
                <video id="video" autoplay muted></video>
                <canvas id="overlay"></canvas>
            </div>
            <button id="next" class="btn">Продолжить</button>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface"></script>
        <script src="./scripts/tracker.js"></script>
    </body>
</html>
